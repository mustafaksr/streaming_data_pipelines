{"exportVersion":6,"dashboards":{"dashboard-1":{"description":"","embedding":{},"filters":[{"type":"String","disabled":false,"name":"email","settings":{"allOthers":true,"values":[]},"linkedFields":[{"dataSourceId":"data-source-1","fieldPath":"email"}]},{"type":"Number","disabled":false,"name":"product_id","settings":{"min":{"enabled":false,"value":"","inclusive":true},"max":{"enabled":false,"value":"","inclusive":true}},"linkedFields":[{"dataSourceId":"data-source-1","fieldPath":"product_id"}]},{"type":"Number","disabled":false,"name":"price","settings":{"max":{"enabled":false,"value":"","inclusive":true},"min":{"enabled":false,"value":"","inclusive":true}},"linkedFields":[{"dataSourceId":"data-source-1","fieldPath":"price"}]},{"type":"Number","disabled":false,"name":"event_time","settings":{"max":{"enabled":false,"value":"","inclusive":true},"min":{"enabled":false,"value":"","inclusive":true}},"linkedFields":[{"dataSourceId":"data-source-1","fieldPath":"event_time"}]}],"layout":[{"i":"item-1","w":3,"h":2,"x":4,"y":4},{"i":"item-2","w":3,"h":2,"x":4,"y":2},{"i":"item-3","w":3,"h":2,"x":4,"y":0},{"i":"item-4","w":4,"h":2,"x":0,"y":2},{"i":"item-5","w":4,"h":2,"x":0,"y":0},{"i":"item-6","w":4,"h":2,"x":0,"y":4},{"i":"item-7","w":4,"h":2,"x":0,"y":6}],"title":"streaming_test"}},"items":{"item-1":{"calculatedFields":[],"channels":{"y":{"channelType":"category","inferredType":"Number","field":"_id","type":"nominal","isBinning":false,"quantitativeBinning":{"binSize":10}},"x":{"channelType":"aggregation","inferredType":"Number","field":"count","type":"quantitative","aggregate":"sum"}},"chartType":"Stacked Bar","convertedFields":[],"customisations":{"options":{"colorDiscrete":{"enabled":true,"value":["#196ee6"]}},"conditionalFormatting":[],"axes":{"x":{}},"channels":{"y":{"labelOverride":{"enabled":true,"value":"product_id"},"numberFormatting":{"enabled":true,"value":"Default"}},"x":{"labelOverride":{"enabled":true,"value":"total_count"},"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"bar-stacked","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":"[\n  {\n    $group: {\n      _id: \"$product_id\",\n      count: { $sum: 1 }\n    }\n  },{ $sort: { count: -1 } }\n]","queryId":null,"reductions":{},"sample":false,"title":"","embedding":{}},"item-2":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"String","field":"email","type":"nominal","isBinning":false,"sort":{"axis":"Aggregated Value","order":"descending"}},"y":{"channelType":"aggregation","inferredType":"Number","field":"price","type":"quantitative","aggregate":"mean"}},"chartType":"Stacked Column","convertedFields":[],"customisations":{"options":{},"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"column-stacked","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Average Price by user","embedding":{}},"item-3":{"calculatedFields":[],"channels":{"x":{"channelType":"category","inferredType":"String","field":"email","type":"nominal","isBinning":false,"sort":{"axis":"Aggregated Value","order":"descending"}},"y":{"channelType":"aggregation","inferredType":"Number","field":"quantity","type":"quantitative","aggregate":"sum"}},"chartType":"Stacked Column","convertedFields":[],"customisations":{"options":{"colorDiscrete":{"enabled":true,"value":["#e6b219"]}},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"column-stacked","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Quantities","embedding":{}},"item-4":{"calculatedFields":[{"fieldPath":"Date","rawExpression":"{$toDate:{ $multiply: [ \"$event_time\", 1 ] }}","derivedMQL":"{\"$toDate\":{\"$multiply\":[\"$event_time\",1]}}"}],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"Date","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours","minutes"]},"y":{"channelType":"aggregation","inferredType":"Number","field":"price","type":"quantitative","aggregate":"sum","runningTotal":{"type":"Change in value","baseline":0}}},"chartType":"Line","convertedFields":[],"customisations":{"options":{},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:mm"}},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Change in Price per Minute","embedding":{}},"item-5":{"calculatedFields":[{"fieldPath":"Date","rawExpression":"{$toDate:{ $multiply: [ \"$event_time\", 1 ] }}","derivedMQL":"{\"$toDate\":{\"$multiply\":[\"$event_time\",1]}}"}],"channels":{"x":{"channelType":"category","inferredType":"Date","field":"Date","type":"nominal","isBinning":true,"temporalBinning":["year","month","date","hours","minutes"]},"y":{"channelType":"aggregation","inferredType":"Number","field":"quantity","type":"quantitative","aggregate":"sum","runningTotal":{"type":"Change in value","baseline":0}}},"chartType":"Line","convertedFields":[],"customisations":{"options":{"colorDiscrete":{"enabled":true,"value":["#e6b219"]}},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}},"y":{}},"channels":{"x":{"dateTimeFormatting":{"enabled":true,"value":"DD-MMM-YYYY HH:mm"}},"y":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"line-discrete","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Change in Quantity per Minute","embedding":{}},"item-6":{"calculatedFields":[],"channels":{"color":{"channelType":"aggregation","inferredType":"Number","field":"price","type":"quantitative","aggregate":"sum"},"y":{"channelType":"category","inferredType":"Number","field":"quantity","type":"nominal","isBinning":true,"quantitativeBinning":{"binSize":1}},"x":{"channelType":"category","inferredType":"Number","field":"product_id","type":"nominal","isBinning":true,"quantitativeBinning":{"binSize":1}}},"chartType":"Heatmap","convertedFields":[],"customisations":{"options":{"colorContinuous":{"enabled":true,"value":{"color":"blueorange","reverse":false}}},"conditionalFormatting":[],"axes":{"x":{"categoryLabelAngle":{"enabled":true,"value":"vertical"}}},"channels":{"color":{"numberFormatting":{"enabled":true,"value":"Default"}},"y":{"numberFormatting":{"enabled":true,"value":"Default"}},"x":{"numberFormatting":{"enabled":true,"value":"Default"}}}},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"heatmap","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":null,"queryId":null,"reductions":{},"sample":false,"title":"Price Heatmap","embedding":{}},"item-7":{"calculatedFields":[],"channels":{"text":{"channelType":"category","inferredType":"String","field":"_id","type":"nominal","isBinning":false},"size":{"channelType":"aggregation","inferredType":"Number","field":"size","type":"quantitative","aggregate":"sum"},"color":{"channelType":"category","inferredType":"Number","field":"color","type":"nominal","isBinning":false,"quantitativeBinning":{"binSize":10}}},"chartType":"Word Cloud","convertedFields":[],"customisations":{"options":{},"axes":{},"channels":{"text":{"labelOverride":{"enabled":true,"value":"word"}},"size":{"labelOverride":{"enabled":true,"value":"sum ( price )"},"numberFormatting":{"enabled":true,"value":"Default"}},"color":{"labelOverride":{"enabled":true,"value":"quantity"},"numberFormatting":{"enabled":true,"value":"Default"}}},"conditionalFormatting":[]},"dashboardId":"dashboard-1","dataSourceId":"data-source-1","description":"","filters":[],"iconValue":"word-cloud","interactiveFiltering":"highlight","itemType":"chart","lookupFields":[],"meta":{},"missedFields":[],"query":"[\n  {\n    $match: {\n      comment: { $exists: true } // Filter for documents that have a comment field\n    }\n  },\n  {\n    $project: {\n      _id: 0,\n      word: { $split: [\"$comment\", \" \"] }, // Split the comment into an array of words\n      size: \"$price\", // Set the size of each word based on the \"price\" field\n      color: \"$quantity\" // Set the color of each word based on the \"quantity\" field\n    }\n  },\n  {\n    $unwind: \"$word\" // Unwind the array of words\n  },\n  {\n    $group: {\n      _id: { $split: [{\"$toLower\":\"$word\"}, \",\"],$split: [{\"$toLower\":\"$word\"}, \".\"] },\n      size: { $sum: \"$size\" }, // Calculate the total size of each word\n      color: { $sum: \"$color\" } // Calculate the total color value of each word\n    }\n  },\n  {\n    $match: {\n      _id: {\n        $nin: [\"i\",\"you\",\"we\",\"they\",\"the\", \"a\", \"an\", \"and\", \"but\", \"or\", \"for\", \"nor\", \"on\", \"at\", \"to\", \"from\", \"by\", \"of\", \"in\", \"out\", \"up\", \"off\", \"down\", \"over\", \"under\"],\n        $regex: /^[a-zA-Z0-9']+$/\n        \n      }\n    }\n  }\n]","queryId":null,"reductions":{},"sample":false,"title":"word cloud","embedding":{}}},"dataSources":{"data-source-1":{"alias":"mycoll","collection":"mycoll","database":"mydata","deployment":"myAtlasClusterEDU","sourceType":"cluster"}},"queries":{}}